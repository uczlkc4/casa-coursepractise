---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
```{r}
getwd()
Data1 <- c(1:100)
Data2 <- c(101:200)
#Plot the data
plot(Data1, Data2, col="blue")
scotlandDataOSK<- read.csv("Data_AGE_UNIT.csv")

install.packages("tidyverse")
scotlandData<- read.csv("Data_AGE_UNIT.csv")
install.packages("maptools")
install.packages(c("classint", "OpenStreetMap", "tmap"))
install.packages(c("RColorBrewer", "Sp", "rgeos", "tmap", "tmaptools", "sf", "downloader", "rgdal", "geojsonio"))
library(maptools)
library(RColorBrewer)
library(classInt)
library(sp)
library(rgeos)
library(tmap)
library(tmaptools)
scotlandBoroughMapSF <- read_shape("scoland_BoundaryDataassi/scotland_ca_2010.shp", as.sf = TRUE)

#plot it very quickly usking qtm (quick thematic map) to check it has been read in correctly
qtm(scotlandBoroughMapSF)
library(methods)
#check the class of BoroughMapSF
class(scotlandBoroughMapSF)
BoroughDataMap <- append_data(scotlandBoroughMapSF,scotlandData, key.shp = "code", key.data = "GEO_CODE", ignore.duplicates = TRUE)
library(tmap)
library(tmaptools)
tmap_mode("plot")
qtm(BoroughDataMap, fill = "F173")

tm_shape(BoroughDataMap) +
  tm_polygons(c("F175", "F176", "F177", "F178", "F179"), 
              style=c("jenks", "pretty", "pretty", "jenks", "jenks"),
              palette=list("YlOrBr", "Purples", "Reds", "Blues", "PuBuGn"),
              auto.palette.mapping=FALSE,
              title=c("Age 20 to 24 - Unit : Persons", "Age 25 to 29 - Unit : Persons", "Age 30 to 44 - Unit : Persons", "Age 45 to 59 - Unit : Persons", "Age 60 to 64 - Unit : Persons"))
```
```

